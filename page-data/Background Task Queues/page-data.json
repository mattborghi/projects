{"componentChunkName":"component---src-templates-blog-post-js","path":"/Background Task Queues/","result":{"data":{"site":{"siteMetadata":{"title":"Projects","author":"Matias Borghi"}},"markdownRemark":{"id":"4f6aa38e-a885-5f45-b0b5-3449d1d2d362","excerpt":"Note: The webpage might be showing an error message because the dyno workers deployed in  are turned off. If that is the case, just reach me out and I will turnâ€¦","html":"<span style=\"display:flex; flex-direction: row; align-items: center; justify-content: flex-start;\">\nFor more information, visit the GitHub repository\n<a style=\"padding-left: 10px;\" href=\"https://github.com/mattborghi/background-tasks-queue\">\n  <img src=\"/projects/497f08131634362daabdbdfa3d340c22/github.svg\" height=\"20px\" width=\"20px\">\n  <img src=\"/projects/8b960ac2bde1a73794bba3b644cfdd2a/github_white.svg\" height=\"20px\" width=\"20px\">\n</a>\n</span>\n<span style=\"display:flex; flex-direction: row; align-items: center; justify-content: flex-start;\">\nIn order to see and test a live demo deployed using Heroku click here\n<a style=\"padding-left: 10px;\" href=\"https://mattborghi.github.io/background-tasks-queue/\">\n  <img src=\"/projects/1b6e814b8c49f2db6c2e84ded078c78d/heroku.svg\" height=\"20px\" width=\"20px\">\n  <img src=\"/projects/c6f4a701d3802851aa9ab6a823cc1e18/heroku_white.svg\" height=\"20px\" width=\"20px\">\n</a>\n</span>\n<blockquote>\n<p>Note: The webpage might be showing an error message because the dyno workers deployed in <code class=\"language-text\">Heroku</code> are turned off. If that is the case, just reach me out and I will turn them back on.</p>\n</blockquote>\n<h3>Introduction</h3>\n<p>The frontend (<code class=\"language-text\">React.js</code>) will generate a request (through <code class=\"language-text\">GraphQL</code> endpoints) to the backend in order to create new tasks. The backend (<code class=\"language-text\">Django</code>) will respond with a task item scheduled for running which is seen in the table with a <code class=\"language-text\">QUEUEING</code> status.</p>\n<p><img src=\"https://github.com/mattborghi/background-tasks-queue/raw/main/assets/stack.png\" alt=\"stack\"></p>\n<p><code class=\"language-text\">RabbitMQ</code> now handles the distribution of one or several tasks (which may be created by one or several users) using the <code class=\"language-text\">Work Queue</code> design pattern. One of the clients is the <code class=\"language-text\">Django</code> backend whom creates the tasks by pushing a json payload to a queue into the RabbitMQ Server. Then this message system distributes the work to the <code class=\"language-text\">Julia</code> workers. When a certain task is set to run its status changes to <code class=\"language-text\">RUNNING</code>. </p>\n<p>Right now two things can happen:</p>\n<ul>\n<li>The task fails with <code class=\"language-text\">FAILED</code> status.</li>\n<li>The task completes with <code class=\"language-text\">FINISHED</code> status. In this case the result is pushed to a Sink. This sink in the future might preserve the results in a separate database. Later, the sink mutates the django backend status with the calculated value.</li>\n</ul>\n<p>Finally, a long polling connection between the frontend and the backend is made so the results are updated in a table.</p>\n<p>As a side note, this pattern allowes us to recover the tasks assigned to a worker in case it is shut down for some reason and assign them to other free workers or remain in memory if all the workers are busy.</p>\n<p>Below, there is a small video showcasing the project capabilities.</p>\n<h3>Tech Used</h3>\n<ul>\n<li><a href=\"https://reactjs.org/\">React</a></li>\n<li><a href=\"https://graphql.org/\">GraphQL</a></li>\n<li><a href=\"https://www.djangoproject.com/\">Django</a></li>\n<li><a href=\"https://www.sqlite.org/index.html\">SQLite</a></li>\n<li><a href=\"https://www.rabbitmq.com/\">RabbitMQ</a></li>\n<li><a href=\"https://julialang.org/\">Julia</a></li>\n</ul>\n<h3>Video</h3>\n<div class=\"gatsby-resp-iframe-wrapper\" style=\"padding-bottom: 56.25%; position: relative; height: 0; overflow: hidden; margin-bottom: 1.0725rem\" > <iframe src=\"https://www.youtube.com/embed/8aVgLDDIEdg\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen=\"\" style=\" position: absolute; top: 0; left: 0; width: 100%; height: 100%; \"></iframe> </div>","frontmatter":{"title":"Background Task Queues","date":"January 06, 2021","description":"Project implementing a background tasks/jobs queue with React as frontend, Python to process the requests and Julia to run the jobs communicating using RabbitMQ.","thumbnail":{"childImageSharp":{"fluid":{"base64":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAGCAYAAADDl76dAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAvklEQVQY03VQWwrDMAzL/W9Y6EcvUOhjzctJNMvDo4XNkNaW/JAd8MeGNP0AtVbM84xpmrAsC1prGIq3Pn7WhVwEKQt675o47G/+K6FX0Z7DcH/kqg7LpT0w90POBTElm0wi54zjONCVFMWIE4sxWsF1XTjP03LJcYN1Xa2GcXBFbvRLKcB4KuOjiYgN8IXZJKkgHxgIMMkLGFtD3vHWhEpobEaFbuS2bcO+7ybmq/B+j8/hfyv0NT32M5lqxd4eE9is1VFsegAAAABJRU5ErkJggg==","aspectRatio":3.5051546391752577,"src":"/projects/static/faba53534618990cfee08fbaa28d9113/40a76/preview.png","srcSet":"/projects/static/faba53534618990cfee08fbaa28d9113/c972b/preview.png 340w,\n/projects/static/faba53534618990cfee08fbaa28d9113/27625/preview.png 680w,\n/projects/static/faba53534618990cfee08fbaa28d9113/40a76/preview.png 1360w,\n/projects/static/faba53534618990cfee08fbaa28d9113/c4829/preview.png 1836w","sizes":"(max-width: 1360px) 100vw, 1360px"}}}}}},"pageContext":{"slug":"/Background Task Queues/","previous":{"fields":{"slug":"/Julia Editor on the Web/"},"frontmatter":{"title":"Julia Editor on the web"}},"next":{"fields":{"slug":"/Julia Terminal Web/"},"frontmatter":{"title":"Julia Terminal on the web"}}}},"staticQueryHashes":["63159454"]}